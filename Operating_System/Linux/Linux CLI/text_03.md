# Работа с текстом
- Работа с текстом: vi, nano... awk, sed, grep, cat, wc...
---
## :bulb: Команда «nano»
>  Nano - текстовый редактор для терминала.

Если Nano у вас не установлен, установить его можно командой:
```
sudo apt update
```
```
sudo apt install nano
```
>  Команда выше подходит для операционных систем Debian/Ubuntu.

Чтобы открыть существующий файл или создать новый, в командной строке наберите nano и название файла:
```
nano apple.txt
```
<p align="center">
<img src="https://media.giphy.com/media/XRWwPuQXPqFXWL5Lt5/giphy.gif">
</p>
 
Так же можно сделать чтобы при изменения файла создавалась его резервная копия. Для этого используется ключ -B:

```
nano -B apple.txt
```

> :mag_right: После сохранения файла будет создана резервная копия файла с содержимым, которое было до изменения. Имя резервной копии соответствует имени исходного файла со значком тильды ~ на конце.
---
> Сразу после открытия редактора вы можете приступить к редактированию файла 
#### Сохранение и выход
Если вам нужно сохранить изменения и выйти из редактора, то используйте сочетание клавиш:
```
Ctrl+X
```
Дальше, если вы изменяли файл, то появится вопрос: **«Save modified buffer?»**. Если вы хотите сохранить изменения нажмите клавишу **Y**, появится вопрос на ввод имени файла. Введите новое имя файла или оставьте старое и нажмите **Enter**. Если не хотите сохранять изменения, то нажмите клавишу **N**.
## :bulb: Команда «vi»
> Vi - альтернатива текстового редактора для терминала **nano**

Чтобы открыть существующий файл или создать новый, в командной строке наберите vi и название файла:
```
vi apple.txt
```
Вы всегда начинаете в режиме редактирования, поэтому первое, что мы собираемся сделать, это переключиться в режим вставки, нажав i

<p align="center">
<img src="https://media.giphy.com/media/NMJBgLMmH9PusLfvms/giphy.gif">
</p>

Теперь введите несколько строк текста и нажмите клавишу Esc, и вы вернетесь в режим редактирования.

### **Сохранение и выход**

- ZZ — Сохранить и выйти
- :q! — отменить все изменения, начиная с последнего сохранения, и выйти
- : w — сохранить файл, но не выходить
- : wq — снова сохранить и выйти

> :mag_right: Большинство команд в vi выполняются, как только вы нажимаете последовательность клавиш. Любая команда, начинающаяся с двоеточия (:), требует, чтобы вы нажали «Enter» для завершения команды.

<p align="center">
<img src="https://media.giphy.com/media/4m4mht8sNbwfBIyGPF/giphy.gif">
</p>

## :bulb: Команда «cat»
> Сat используется для просмотра текстовых файлов (меньше содержимого)
```
cat [параметры] [файл]
```
- cat -n отобразить номер строки

- cat -b похож на -n, разница в том, что -b не нумерует пустые строки.
---
[source](https://habr.com/ru/company/ruvds/blog/665084/)
<!-- 
#1
<p align="center">
<img src="">
</p> -->
---
## :bulb: Команда «awk»

> AWK – это скриптовый язык, который полезен при работе в командной строке и широко применяется для обработки текста.

> :mag_right: При использовании awk вы можете выбирать данные – один или более отдельных фрагментов текста – на основе заданного критерия. Например, с помощью awk можно выполнять поиск конкретного слова или шаблона во фрагменте текста, а также выбирать определённую строку/столбец в файле.

Чтобы использовать awk, введите следующее:
```
awk '{action}' avocado.txt
```
Когда вам нужно найти текст, соответствующий конкретному шаблону, или же конкретное слово в тексте, команда принимает следующий вид:

```
awk '/regex pattern/{action}' avocado.txt
```
Для вывода всего содержимого файла в качестве действия в фигурных скобках нужно указать print $0:
```
awk '{print $0}' avocado.txt
```
---
<!-- 
#2
<p align="center">
<img src="">
</p> -->
---
Если захотите добавить нумерацию строк, то нужно будет дополнить действие переменной NR:
```
awk '{print NR,$0}' avocado.txt
```
> :mag_right: При использовании awk можно указывать для вывода конкретные столбцы.

- Вывод первого производится следующей командой:
```
awk '{print $1}' avocado.txt
```
Здесь $1 означает первое поле, то есть в данном случае первый столбец.
- Для вывода второго столбца используется $2:
```
awk '{print $2}' avocado.txt
```
> :mag_right: По умолчанию начало и конец каждого столбца awk определяет по пробелу.
- Для вывода большего числа столбцов, например, первого и четвёртого, нужно выполнить:
```
awk '{print $1, $4}' avocado.txt
```
> Здесь $1 представляет первое поле ввода (первый столбец), а $4 четвёртое. При этом они отделяются запятой, чтобы вывод разделялся пробелом и был более читаемым.
- Для вывода последнего поля (последнего столбца) также можно использовать команду $NF, представляющую последнее поле записи:
---
---
Также можно указывать для вывода строку определённого столбца:
```
awk '{print $1}' avocado.txt | head -1
```
> :mag_right: Разделим эту команду на две части. Сначала awk '{print $1}' information.txt выводит первый столбец. Затем её результат (который мы видели выше) с помощью символа | передаётся на обработку команде head, где аргумент -1 указывает на выбор первой строки столбца.
-Для вывода двух строк команда будет такой:
```
awk '{print $1}' avocado.txt | head -2
```
---
---
Вы можете выводить строку, начинающуюся с заданной буквы. Например:
```
awk '/^O/' avocado.txt
```
Эта команда выбирает все строки с текстом, начинающимся на O.
> :mag_right: Действие команды начинается с символа ^, который указывает на начало строки. После этого прописывается буква, с которой нужная вам строка должна начинаться.

- По аналогичному принципу можно выводить строку, завершающуюся конкретным шаблоном:
```
awk '/0$/' avocado.txt
```
> Эта команда выводит строки, оканчивающиеся на 0 – здесь с помощью символа $ мы указываем, как должна заканчиваться нужная строка.
- При этом её можно несколько изменить:
```
awk '! /0$/' avocado.txt 
```
> :mag_right: Символ ! используется в качестве приставки «НЕ», а значит, в этом случае будут выбраны строки, которые не оканчиваются на 0.
---
---
- Для вывода слов, содержащих определённые буквы, а также слов, соответствующих указанному шаблону, мы снова используем прямые слэши.

К примеру, если нас интересуют слова, содержащие io, мы пишем:
```
awk ' /io/{print $0}' avocado.txt
```
---
---
Мы получили строки, в которых содержатся слова, содержащие io.
> Теперь предположим, что в файле есть дополнительный столбец department:
---
photo
---
Для поиска всей информации о людях, работающих в IT, нужно указать искомую строку между //:
```
awk '/IT/' avocado.txt
```
> А что, если мы хотим увидеть только имена и фамилии сотрудников из IT?

Тогда можно указать столбец так:
```
awk '/IT/{print $1, $2}' avocado.txt
```
---
---
В этом случае отобразятся только первый и второй столбцы строк, содержащих IT.
- При поиске слов, содержащих конкретный шаблон, бывают случаи, когда требуется использовать экранирующий символ:
```
awk '/N\/A$/' avocado.txt
```
---
---
при указании критериев поиска в ' // ', как это показывалось выше, мне пришлось использовать между N/A символ перехода \. В противном случае возникла бы ошибка.
> :mag_right: Если вы, предположим, захотите найти всю информацию о сотрудниках в возрасте до 40 лет, то нужно будет использовать оператор сравнения < так:
```
awk '$3 <  40 { print $0 }' information.txt
```
---
---
В выводе представлена информация о людях моложе 40.

## :bulb: Команда «grep»
[source](https://wiki.merionet.ru/servernye-resheniya/39/rukovodstvo-po-komande-grep-v-linux/)






